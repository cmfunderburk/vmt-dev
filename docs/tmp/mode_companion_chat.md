I'll create a comprehensive implementation specification document for the Phase Aâ†’B Mode Toggles feature with detailed recommendations for each design decision.

[1 tool called]

I've created a comprehensive implementation specification document at `docs/tmp/mode_toggles_implementation_spec.md`. The document includes:

## Key Highlights:

1. **Complete technical specification** with actual code examples for all modifications needed

2. **Detailed recommendations** for each critical design decision:
   - **Movement continues** regardless of mode (physical reality doesn't pause)
   - **Quotes persist** across modes (preferences don't change) 
   - **Cooldowns continue counting** even in forage mode (consequences persist)
   - **Full perception** in all modes (allows strategic planning)
   - **Mode-specific decisions** only (no impossible choices)
   - **Resources always regenerate** (environmental processes continue)

3. **Edge case handling** explicitly defined:
   - Agents at resources when trade mode starts must wait
   - Adjacent agents when forage mode starts cannot trade

4. **Testing strategy** with specific test cases outlined

5. **Complete implementation checklist** to track progress

6. **Example YAML configuration** showing how to use the feature

The document takes a principled approach favoring:
- **Simplicity** over complexity where possible
- **Determinism** maintained throughout
- **Strategic depth** through information availability
- **Clear boundaries** between modes

Please review the document and let me know:
1. Which recommendations you agree/disagree with
2. Any edge cases I missed
3. Whether the implementation approach aligns with your vision
4. Any specific aspects you'd like modified or expanded

This should give you a solid foundation to make final decisions before implementation begins.