# Mode Schedule × Exchange Regime Interaction Test
# Money Phase 3: Tests two-layer control architecture
# - Temporal control: mode_schedule (when can agents trade?)
# - Type control: exchange_regime (what can agents trade?)

schema_version: 1
name: "Mode Schedule × Exchange Regime Interaction"
N: 15
agents: 6

# Mode schedule: alternating forage/trade cycles
mode_schedule:
  type: global_cycle
  forage_ticks: 10
  trade_ticks: 15
  start_mode: forage

initial_inventories:
  A: [10, 5, 0, 8, 3, 2]
  B: [0, 5, 10, 2, 7, 8]
  M: [100, 100, 100, 100, 100, 100]

utilities:
  mix:
    - type: ces
      weight: 1.0
      params:
        rho: 0.3
        wA: 0.6
        wB: 0.4

params:
  # Economic
  spread: 0.05
  dA_max: 3
  epsilon: 0.001
  
  # Spatial (integers required)
  vision_radius: 15
  interaction_radius: 1
  move_budget_per_tick: 2
  
  # Resources
  forage_rate: 2
  resource_growth_rate: 0.05
  resource_regen_cooldown: 5
  
  # Trading
  trade_cooldown_ticks: 3
  beta: 0.95
  
  # Money system parameters - MIXED REGIME with KKT mode
  exchange_regime: "mixed"           # Mixed trades allowed
  money_mode: "kkt_lambda"           # Endogenous λ estimation
  money_scale: 1
  lambda_money: 1.0
  lambda_update_rate: 0.15
  lambda_bounds:
    lambda_min: 0.00001
    lambda_max: 100000.0

resource_seed:
  density: 0.25
  amount: 5

